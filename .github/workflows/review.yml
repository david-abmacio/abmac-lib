name: Review

on:
  pull_request:
    branches: [main]

permissions:
  contents: read
  pull-requests: write

jobs:
  # ---------------------------------------------------------
  # Dependency Review (GitHub-native security check)
  #
  # WHAT THIS ADDS:
  # - Analyzes dependency changes *in the PR diff*.
  # - Warns if the PR adds a vulnerable dependency.
  # - Warns if the PR downgrades to a vulnerable version.
  # - Warns if the PR adds a dependency from a suspicious
  #   source (e.g., git repo instead of crates.io).
  # - Warns about license issues using GitHub’s metadata.
  #
  # WHAT IT DOES *NOT* DO:
  # - Does NOT replace cargo-audit or cargo-deny.
  # - Does NOT add new Rust vulnerability intelligence.
  #
  # WHEN IT’S USEFUL:
  # - When multiple contributors are involved.
  # - When reviewing dependency bumps in PRs.
  # - When you want GitHub-native PR comments.
  # - This adds visibility into *what changed* in the PR.
  # ---------------------------------------------------------
  dependency-review:
    name: Dependency Review
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/dependency-review-action@v4